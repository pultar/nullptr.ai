<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name="hugo-theme" content="Axiom 0.8.0">



  <link rel="icon" type="image/png" sizes="32x32" href="/image/brand/favicon.png">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/image/brand/icon-1-1.png">
  <link rel="canonical" href="https://nullptr.ai/blog/evaluating-square-roots/">
<link rel="preload" as="style" href="/bundle.css?v=1703885521" media="all">
<link rel="stylesheet" href="/bundle.css?v=1703885521" media="all">
<style>.cdata pre{background-color:#1f2937;color:#e5e7eb}.cdata :not(pre)>code{background-color:#f3f4f6;color:#7c3aed}.chroma .err{background-color:#991b1b;color:#fecaca}.chroma .hl{background-color:#374151}.chroma .ln{color:#9ca3af}.chroma .k,.chroma .kc,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr{color:#60a5fa}.chroma .kt{color:#a78bfa}.chroma .na,.chroma .nb{color:#fbbf24}.chroma .nc{color:#f87171}.chroma .no{color:#34d399}.chroma .nd{color:#f87171}.chroma .ne{color:#f87171}.chroma .nf{color:#fbbf24}.chroma .nt{color:#f87171}.chroma .l{color:#a78bfa}.chroma .dl,.chroma .ld,.chroma .s,.chroma .s2,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .sd{color:#34d399}.chroma .se{color:#9ca3af}.chroma .s1,.chroma .sh,.chroma .si,.chroma .sr,.chroma .ss,.chroma .sx{color:#34d399}.chroma .il,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .mo{color:#a78bfa}.chroma .o,.chroma .ow{color:#93c5fd}.chroma .c,.chroma .c1,.chroma .ch,.chroma .cm,.chroma .cp,.chroma .cpf,.chroma .cs,.chroma .p{color:#9ca3af}.chroma .ge{font-style:italic}.chroma .gs{font-weight:700}
</style>



<title>Evaluating Square Roots : nullptr.ai</title>

<meta property="og:title" content="Evaluating Square Roots">
<meta property="og:site_name" content="nullptr.ai">
<meta property="og:url" content="https://nullptr.ai/blog/evaluating-square-roots/">
<link rel="image_src" href="https://nullptr.ai/image/page-default.webp">
<meta property="og:image" content="https://nullptr.ai/image/page-default.webp">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">
<meta property="og:type" content="article">
<meta property="og:locale" content="en">
<meta property="og:description" content="The problem statement There is a LeetCode problem that asks you implement a sqrt function that returns the rounded-down nearest integer value. I am not aware, however, of a problem that asks you to simply reproduce the behavior of the standard library sqrt function.">
<meta name="description" content="The problem statement There is a LeetCode problem that asks you implement a sqrt function that returns the rounded-down nearest integer value. I am not aware, however, of a problem that asks you to simply reproduce the behavior of the standard library sqrt function.">
<meta property="og:updated_time" content="2023-01-23T10:00:00Z">
<meta property="fb:app_id" content="">
<meta name="author" content="Felix Pultar">
<meta property="article:author" content="https://nullptr.ai/">
<meta property="article:published_time" content="2023-01-23T10:00:00Z">
<meta property="article:modified_time" content="2023-01-23T10:00:00Z">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Evaluating Square Roots",
  "alternativeHeadline": "Some ideas to calculate square roots without ",
  "url": "https://nullptr.ai/blog/evaluating-square-roots/",
  "image": "https://nullptr.ai/image/page-default.webp",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://nullptr.ai/blog/evaluating-square-roots/"
  },
  "description": "The problem statement There is a LeetCode problem that asks you implement a sqrt function that returns the rounded-down nearest integer value. I am not aware, however, of a problem that asks you to simply reproduce the behavior of the standard library sqrt function.",
  "author": {
    "@type": "Person",
    "name": "Felix Pultar"
  },
  "publisher": {
    "@type": "Organization",
    "name": "nullptr.ai",
    "logo": {
      "@type": "ImageObject",
      "url": "https://nullptr.ai/image/brand/icon-1-1.png"
    }
  },
  "datePublished": "2023-01-23T10:00:00Z",
  "dateModified": "2023-01-23T10:00:00Z",
  "articleBody": "\u003ch2 id=\"the-problem-statement\"\u003eThe problem statement\u003c/h2\u003e\n\u003cp\u003eThere is a \u003ca href=\"https://leetcode.com/problems/sqrtx/\"\u003eLeetCode problem\u003c/a\u003e that asks you implement a \u003ccode\u003esqrt\u003c/code\u003e function that returns the rounded-down nearest integer value. I am not aware, however, of a problem that asks you to simply reproduce the behavior of the standard library \u003ccode\u003esqrt\u003c/code\u003e function. Interestingly enough, \u003ccode\u003esqrt\u003c/code\u003e is not marked \u003ccode\u003econstexpr\u003c/code\u003e. Having our own implementation could be helpful if evaluation of square roots is required at \u003cstrong\u003ecompile time\u003c/strong\u003e (for example to reduce runtime in competitive coding ðŸ˜‰).\u003c/p\u003e\n\u003ch2 id=\"first-solution-binary-search\"\u003eFirst Solution: Binary Search\u003c/h2\u003e\n\u003cp\u003eThe first idea is to solve this problem iteratively using a \u003cstrong\u003ebinary search algorithm\u003c/strong\u003e. The lower and upper bounds are initialized with \u003ccode\u003e0.0\u003c/code\u003e and \u003ccode\u003ex\u003c/code\u003e, respectively. We know that \u003ccode\u003esqrt\u003c/code\u003e must be somewhere within that range. Next, we calculate the \u003cem\u003epivot\u003c/em\u003e of that interval as \u003ccode\u003eauto pivot = lower + (upper - lower) / 2\u003c/code\u003e. Note that \u003ccode\u003eauto pivot = (upper + lower) / 2\u003c/code\u003e is mathematically equivalent but might result in an overflow for large \u003ccode\u003ex\u003c/code\u003e. Now we calculate back what would be the \u003ccode\u003ex\u003c/code\u003e if our current guess \u003ccode\u003epivot\u003c/code\u003e were indeed the square root of \u003ccode\u003ex\u003c/code\u003e. Squaring \u003ccode\u003epivot\u003c/code\u003e and subtracting the result from \u003ccode\u003ex\u003c/code\u003e gives us a new variable \u003ccode\u003edelta\u003c/code\u003e. We will evaluate if \u003ccode\u003edelta\u003c/code\u003e is a positive or a negative number. If \u003ccode\u003edelta\u003c/code\u003e is positive, we know \u003ccode\u003epivot\u003c/code\u003e was chosen too small and we will set \u003ccode\u003elower\u003c/code\u003e to \u003ccode\u003epivot\u003c/code\u003e. If \u003ccode\u003edelta\u003c/code\u003e is negative, we know \u003ccode\u003epivot\u003c/code\u003e was chosen too high and we set \u003ccode\u003eupper\u003c/code\u003e to \u003ccode\u003epivot\u003c/code\u003e. Note that in either case we half the search space. In a next iteration, we will again calculate \u003ccode\u003epivot\u003c/code\u003e as the middle between \u003ccode\u003elower\u003c/code\u003e and \u003ccode\u003eupper\u003c/code\u003e, calculate the square of \u003ccode\u003epivot\u003c/code\u003e, and compare this value to \u003ccode\u003ex\u003c/code\u003e. This iteration will not necessarily converge due to the way computers handle floating point numbers. It is thus important to add a convergence criterium \u003ccode\u003eepsilon\u003c/code\u003e. If the absolute value of \u003ccode\u003edelta\u003c/code\u003e is smaller then \u003ccode\u003eepsilon\u003c/code\u003e, our function has converged and we can return the current value of \u003ccode\u003epivot\u003c/code\u003e as the result.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-c++\" data-lang=\"c++\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003econstexpr\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"nf\"\u003esqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"c1\"\u003e// range of binary search\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e\u003c/span\u003e  \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elower\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eupper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elower\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eupper\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elower\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003epow\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003epow\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"c1\"\u003e// convergence criterium\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e\u003c/span\u003e  \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003eepsilon\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e1e-12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"c1\"\u003e// iterate until convergence criterium is reached\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e\u003c/span\u003e  \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estd\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003efabs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eepsilon\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"c1\"\u003e// pivot too small\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e\u003c/span\u003e      \u003cspan class=\"n\"\u003elower\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"c1\"\u003e// pivot too high\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e\u003c/span\u003e      \u003cspan class=\"n\"\u003eupper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003epivot\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elower\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eupper\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elower\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003epow\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003epow\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003epivot\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"second-solution-newton-raphson\"\u003eSecond Solution: Newton-Raphson\u003c/h2\u003e\n\u003cp\u003eThe second approach takes advantage of the \u003ca href=\"https://en.wikipedia.org/wiki/Newton%27s_method\"\u003eNewton-Raphson method\u003c/a\u003e to find roots of a function. Like the first solution, it is an iterative method that improves an initial guess $x_{n}$ until a convergence criterium is hit. During each iteration we obtain a new guess $x_{n+1}$:\u003c/p\u003e\n\n    $$\n    x_{n\u0026#43;1} = x_{n} - \\frac{f(x_{n})}{f\u0026#39;(x_{n})}$$\n\n\u003cp\u003eIn our case, $f(x) = x^2 - a$, where \u003ccode\u003ex\u003c/code\u003e is the square root we want to compute and \u003ccode\u003ea\u003c/code\u003e is the input to our \u003ccode\u003esqrt\u003c/code\u003e function. Accordingly, we have to iteratively evaluate the expression:\u003c/p\u003e\n\n    $$\n    x_{n\u0026#43;1} = x_{n} - \\frac{x_{n}^2 - a}{2x_{n}} = \\frac{2x_{n}^2 - (x_{n} ^ 2 - a)}{2x_{n}} = \\frac{x_{n}^2 \u0026#43; a}{2x_{n}} = \\frac{1}{2} (x_{n} \u0026#43; \\frac{a}{x_{n}})$$\n\n\u003cp\u003eHere is the code:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-c++\" data-lang=\"c++\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003econstexpr\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"nf\"\u003esqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"c1\"\u003e// Newton-Raphson\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e\u003c/span\u003e  \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003ex0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"n\"\u003eepsilon\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e1e-12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"c1\"\u003e// iterate until convergence\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e\u003c/span\u003e  \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estd\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eepsilon\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003ex0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"notes\"\u003eNotes\u003c/h2\u003e\n\u003cp\u003eIt is worth pointing out that either approach is very naÃ¯ve and can be improved substantially. Many smart people have worked on this problem for over 3000 years! Just check your C standard library implemention and some good numerical agorithm books to get some more ideas.\u003c/p\u003e"
}
</script>

<link rel="preload" as="script" href="/bundle.js?v=1703885521">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "\\[", right: "\\]", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false}
            ]
        });
    });
</script>
</head>
<body>

  <header id="nav" class="header">
  <div class="ax-l-i max-w-6xl">
    <div class="ax-logo">
      <a class="block" href="/" title="nullptr.ai"><svg viewBox="0 0 144 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<style type="text/css">
  .mark{fill:#b34d71;}
  .word{fill:#8b738c;}
</style>
<path class="mark" d="M121.527 30.625c.75.33 1.533.608 2.34.824l.63.154 8.895-5.135.952 1.65-6.717 3.878a15.89 15.89 0 0 0 8.377-2.143c3.68-2.11 6.365-5.6 7.452-9.71.215-.8.367-1.616.457-2.44l-22.386 12.923zM142.3 8.843l-9.562 5.52-.952-1.65 9.562-5.52a16.19 16.19 0 0 0-1.433-1.866L120.66 16.45l-.953-1.65 18.815-10.86c-.64-.56-1.322-1.065-2.043-1.514l-12.232 7.06-.952-1.65 11.192-6.46c-.75-.33-1.533-.608-2.34-.824-.208-.056-.418-.107-.628-.155L112.74 11.24l-.18.622a15.88 15.88 0 0 0 1.597 12.135c1.333 2.3 3.178 4.208 5.38 5.578L144 15.45a15.87 15.87 0 0 0-1.69-6.609v.001zm-6.113 18.204l-.952-1.65 2.595-1.498.952 1.65-2.595 1.498zm-9.877-8.973l-.952-1.65 4.573-2.64.952 1.65-4.573 2.64zM127.982 0c-2.8.002-5.55.744-7.97 2.15a15.89 15.89 0 0 0-6.045 6.183L128.39.006 127.982 0z"/>
<path class="word" d="M11.385 14.868c0-.998-.38-1.767-1.104-2.25s-1.725-.713-2.932-.713c-.932 0-1.794.142-2.588.427-.828.314-1.518.684-2.07 1.14l-1.725-1.7c.794-.627 1.794-1.112 2.967-1.482 1.138-.37 2.38-.54 3.726-.54 1.173 0 2.174.143 3.07.4.863.285 1.553.655 2.105 1.14s.966 1.026 1.242 1.68a5.27 5.27 0 0 1 .414 2.08v5.9l.07 1.425c0 .513.07.94.172 1.254H11.8c-.173-.655-.276-1.282-.276-1.938h-.103a6.06 6.06 0 0 1-2.243 1.68c-.93.4-2 .598-3.243.598-.655 0-1.3-.057-2-.2-.724-.142-1.346-.4-1.932-.712S.968 22.317.59 21.775C.172 21.224 0 20.568 0 19.8c0-1.026.345-1.853 1-2.45s1.553-1.055 2.622-1.368 2.3-.513 3.657-.598l4.105-.143v-.37zm-.793 2.3l-2.484.085c-.863.057-1.656.17-2.346.342-.724.17-1.3.428-1.76.77s-.7.798-.7 1.368c0 .4.104.74.3.998.172.256.45.485.76.656s.7.285 1.07.342c.38.085.794.114 1.208.114 1.518 0 2.7-.37 3.52-1.14.793-.74 1.207-1.68 1.207-2.822v-.712h-.793zm14.178-.658l-5.97-6.412h4.002l4.002 4.645 4.036-4.645h3.795l-5.9 6.384 6.6 7.125h-4.037l-4.554-5.273-4.623 5.273h-3.9l6.555-7.096zm17.77 7.098h-3.243V10.1h3.243v13.5zm.552-18.382a1.49 1.49 0 0 1-.621 1.226c-.45.314-.966.485-1.553.485s-1.104-.17-1.518-.513c-.414-.313-.62-.712-.62-1.197s.207-.912.62-1.254c.414-.314.93-.485 1.518-.485a2.64 2.64 0 0 1 1.553.485c.414.342.62.77.62 1.254zm22.528 11.6c0 1.055-.207 1.995-.656 2.88a6.71 6.71 0 0 1-1.863 2.252c-.828.656-1.76 1.14-2.83 1.482-1.07.37-2.243.54-3.485.54s-2.415-.17-3.485-.54c-1.07-.342-2-.826-2.794-1.482-.793-.627-1.38-1.368-1.828-2.25s-.7-1.824-.7-2.88.242-1.995.7-2.878a6.79 6.79 0 0 1 1.828-2.223c.794-.627 1.725-1.112 2.794-1.482 1.07-.342 2.243-.513 3.485-.513s2.415.17 3.485.513c1.07.37 2 .855 2.83 1.482a6.9 6.9 0 0 1 1.863 2.223c.45.883.656 1.824.656 2.878zm-3.38 0a4.81 4.81 0 0 0-.345-1.852c-.242-.598-.62-1.1-1.07-1.567a5.18 5.18 0 0 0-1.7-1.055c-.7-.257-1.483-.4-2.346-.4s-1.656.142-2.312.4c-.7.257-1.276.627-1.725 1.055-.448.456-.793.97-1.035 1.567s-.38 1.197-.38 1.852.138 1.254.38 1.853.587 1.1 1.035 1.567 1.035.826 1.725 1.083c.656.257 1.45.4 2.312.4s1.656-.142 2.346-.4c.656-.256 1.242-.627 1.7-1.083s.828-.97 1.07-1.567.345-1.197.345-1.853zm11.9-4.503c.414-.712 1.07-1.34 2-1.852.897-.484 1.967-.74 3.2-.74 1.104 0 2.105.2 3.002.627.862.428 1.552 1.112 2.07 2.08.552-.883 1.3-1.54 2.312-2.024 1-.456 2.07-.684 3.243-.684 1.07 0 1.966.143 2.725.428.76.313 1.38.713 1.897 1.197a4.52 4.52 0 0 1 1.14 1.738c.243.655.345 1.368.345 2.138v8.38H92.84v-7.495a7.74 7.74 0 0 0-.172-1.568 3.36 3.36 0 0 0-.587-1.31 3.15 3.15 0 0 0-1.104-.912c-.45-.228-1.035-.342-1.76-.342s-1.38.114-1.897.37-.966.598-1.276.998a3.74 3.74 0 0 0-.725 1.396c-.172.513-.242 1.026-.242 1.568v7.296h-3.243v-8.04a6.15 6.15 0 0 0-.173-1.454c-.103-.427-.3-.826-.586-1.14a3.02 3.02 0 0 0-1.07-.74c-.448-.17-.966-.256-1.62-.256-1.207 0-2.174.4-2.967 1.197-.794.826-1.208 1.9-1.208 3.25v7.182h-3.243V13.016l-.034-1.396-.104-1.5h3.07l.103 1.14.034 1.083h.104z"/>
</svg></a>
    </div>
    <div class="ax-user">
      <a class="p-2 w-8 h-8 block text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" target="_blank" rel="noopener nofollow" href="https://www.google.com/search?q=site:nullptr.ai" title="Search">
        <svg class="fill-current" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2.67 12.804c0-5.6 4.544-10.134 10.133-10.134s10.134 4.544 10.134 10.134-4.544 10.133-10.134 10.133S2.67 18.393 2.67 12.804zm28.943 16.923l-8.868-8.868c4.287-5.3 3.68-13.012-1.378-17.57S8.564-1.066 3.75 3.75s-5.017 12.558-.46 17.618 12.28 5.665 17.57 1.378l8.868 8.868a1.33 1.33 0 0 0 2.231-.597c.123-.46-.008-.952-.345-1.29h0z"/></svg>

      </a>
      <a class="p-2 block text-base leading-none text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/blog/">
        Blog
      </a>
      <a class="p-2 block text-base leading-none text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/about/">
        About
      </a>
    </div>
  </div>

  
</header>

  <main>
<div class="default-single">
  <div class="ax-title ax-l-o">
    <div class="ax-l-i max-w-4xl">
      <h1 class="post-title font-content-title font-normal leading-tight tracking-default text-40">Evaluating Square Roots</h1>
      <p class="post-subtitle font-content-sans font-light text-xl text-raven-500 mt-3">Some ideas to calculate square roots without <cmath></p>

      <div class="ax-meta flex items-center mt-5">
        <div class="flex-grow min-w-0">
          <div class="flex items-center">
  <div class="flex-shrink-0">
    <img
    class="w-12 h-12 sm:w-14 sm:h-14 object-cover p-3px rounded-full border border-blue-300"
    src="/image/brand/logo.svg"
    alt="Felix Pultar">
  </div>
  <div class="flex-shrink-0 ml-2 leading-tight font-content-sans">
    <a class="block text-sm text-raven-800 hover:text-raven-900 hover:underline focus:underline" target="_blank" rel="noopener nofollow" title="Felix Pultar" href="https://nullptr.ai/">Felix Pultar</a>
    <time class="text-sm text-raven-500" datetime="2023-01-23T10:00:00Z">Jan 23, 2023 11:00AM</time>
  </div>
</div>

        </div>
        <div>
          
        </div>
      </div>
    </div>
  </div><div class="ax-content ax-l-o">
    <div class="ax-l-i max-w-4xl">
      <article class="cdata">
<h2 id="the-problem-statement">The problem statement</h2>
<p>There is a <a href="https://leetcode.com/problems/sqrtx/">LeetCode problem</a> that asks you implement a <code>sqrt</code> function that returns the rounded-down nearest integer value. I am not aware, however, of a problem that asks you to simply reproduce the behavior of the standard library <code>sqrt</code> function. Interestingly enough, <code>sqrt</code> is not marked <code>constexpr</code>. Having our own implementation could be helpful if evaluation of square roots is required at <strong>compile time</strong> (for example to reduce runtime in competitive coding ðŸ˜‰).</p>
<h2 id="first-solution-binary-search">First Solution: Binary Search</h2>
<p>The first idea is to solve this problem iteratively using a <strong>binary search algorithm</strong>. The lower and upper bounds are initialized with <code>0.0</code> and <code>x</code>, respectively. We know that <code>sqrt</code> must be somewhere within that range. Next, we calculate the <em>pivot</em> of that interval as <code>auto pivot = lower + (upper - lower) / 2</code>. Note that <code>auto pivot = (upper + lower) / 2</code> is mathematically equivalent but might result in an overflow for large <code>x</code>. Now we calculate back what would be the <code>x</code> if our current guess <code>pivot</code> were indeed the square root of <code>x</code>. Squaring <code>pivot</code> and subtracting the result from <code>x</code> gives us a new variable <code>delta</code>. We will evaluate if <code>delta</code> is a positive or a negative number. If <code>delta</code> is positive, we know <code>pivot</code> was chosen too small and we will set <code>lower</code> to <code>pivot</code>. If <code>delta</code> is negative, we know <code>pivot</code> was chosen too high and we set <code>upper</code> to <code>pivot</code>. Note that in either case we half the search space. In a next iteration, we will again calculate <code>pivot</code> as the middle between <code>lower</code> and <code>upper</code>, calculate the square of <code>pivot</code>, and compare this value to <code>x</code>. This iteration will not necessarily converge due to the way computers handle floating point numbers. It is thus important to add a convergence criterium <code>epsilon</code>. If the absolute value of <code>delta</code> is smaller then <code>epsilon</code>, our function has converged and we can return the current value of <code>pivot</code> as the result.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">constexpr</span> <span class="kt">double</span> <span class="nf">sqrt</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// range of binary search
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">double</span> <span class="n">lower</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">pivot</span> <span class="o">=</span> <span class="n">lower</span> <span class="o">+</span> <span class="p">(</span><span class="n">upper</span> <span class="o">-</span> <span class="n">lower</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">double</span> <span class="n">pow</span> <span class="o">=</span> <span class="n">pivot</span> <span class="o">*</span> <span class="n">pivot</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">double</span> <span class="n">delta</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">pow</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// convergence criterium
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">double</span> <span class="k">const</span> <span class="n">epsilon</span> <span class="o">=</span> <span class="mf">1e-12</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// iterate until convergence criterium is reached
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">while</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">fabs</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">epsilon</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">delta</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// pivot too small
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">lower</span> <span class="o">=</span> <span class="n">pivot</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span> <span class="p">{</span> <span class="c1">// pivot too high
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">upper</span> <span class="o">=</span> <span class="n">pivot</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">pivot</span> <span class="o">=</span> <span class="n">lower</span> <span class="o">+</span> <span class="p">(</span><span class="n">upper</span> <span class="o">-</span> <span class="n">lower</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">pow</span> <span class="o">=</span> <span class="n">pivot</span> <span class="o">*</span> <span class="n">pivot</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">delta</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">pow</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">pivot</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="second-solution-newton-raphson">Second Solution: Newton-Raphson</h2>
<p>The second approach takes advantage of the <a href="https://en.wikipedia.org/wiki/Newton%27s_method">Newton-Raphson method</a> to find roots of a function. Like the first solution, it is an iterative method that improves an initial guess $x_{n}$ until a convergence criterium is hit. During each iteration we obtain a new guess $x_{n+1}$:</p>

    $$
    x_{n&#43;1} = x_{n} - \frac{f(x_{n})}{f&#39;(x_{n})}$$

<p>In our case, $f(x) = x^2 - a$, where <code>x</code> is the square root we want to compute and <code>a</code> is the input to our <code>sqrt</code> function. Accordingly, we have to iteratively evaluate the expression:</p>

    $$
    x_{n&#43;1} = x_{n} - \frac{x_{n}^2 - a}{2x_{n}} = \frac{2x_{n}^2 - (x_{n} ^ 2 - a)}{2x_{n}} = \frac{x_{n}^2 &#43; a}{2x_{n}} = \frac{1}{2} (x_{n} &#43; \frac{a}{x_{n}})$$

<p>Here is the code:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">constexpr</span> <span class="kt">double</span> <span class="nf">sqrt</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Newton-Raphson
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">double</span> <span class="n">x0</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">double</span> <span class="n">x1</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">x0</span> <span class="o">+</span> <span class="n">a</span> <span class="o">/</span> <span class="n">x0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kt">double</span> <span class="k">const</span> <span class="n">epsilon</span> <span class="o">=</span> <span class="mf">1e-12</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// iterate until convergence
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">while</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">x0</span> <span class="o">-</span> <span class="n">x1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">epsilon</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">x0</span> <span class="o">=</span> <span class="n">x1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">x1</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">x0</span> <span class="o">+</span> <span class="n">a</span> <span class="o">/</span> <span class="n">x0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">x1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="notes">Notes</h2>
<p>It is worth pointing out that either approach is very naÃ¯ve and can be improved substantially. Many smart people have worked on this problem for over 3000 years! Just check your C standard library implemention and some good numerical agorithm books to get some more ideas.</p>

      </article>
      

      

    </div>
  </div>
</div>

  </main>
  <footer class="footer">
  <div class="ax-l-i max-w-6xl">
    <nav class="flex items-center justify-center">
      <a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href="/contact/">Contact</a>
    </nav>

    <div class="footer-copyright text-sm text-center text-gray-400 mt-4">
      &#169; 2023-2023 nullptr.ai
    </div>
    <div class="text-sm sm:text-xs text-center text-gray-400 mt-2">
      Powered by <a href="https://www.axiomtheme.com/?utm_source=theme-footer&utm_medium=website&utm_campaign=referral">Axiom</a> and Hugo
    </div>
  </div>
</footer>

<script src="/bundle.js?v=1703885521"></script>


</body>
</html>
